<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La C√† Beverage - ƒê·∫∑t m√≥n</title>
    <style>

    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 15px;
        background-color: #f5f5f5;
        background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), 
                  url('https://drive.google.com/thumbnail?id=1TO1R8pEPbEi6k7wLnhGkR99caBBtELmg&sz=w1920');

        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
        min-height: 100vh;
    }
    
    .container {

        max-width: 900px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 25px;
        font-size: 2rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    
    .menu-section {
        margin-bottom: 25px;
    }
    
    .menu-section h2 {
        color: #e74c3c;
        border-bottom: 2px solid #e74c3c;
        padding-bottom: 3px;
        margin-bottom: 12px;
        font-size: 1.3rem;
    }
    
    .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 10px;
    }
    
    .menu-item {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px;
        text-align: center;
        background: rgba(249, 249, 249, 0.9);
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
        min-height: 60px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .menu-item:hover {
        background: rgba(232, 245, 232, 0.95);
        border-color: #27ae60;
        transform: translateY(-3px);
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
    }
    
    .menu-item.selected {
        background: rgba(212, 237, 218, 0.95);
        border-color: #27ae60;
        border-width: 2px;
        box-shadow: 0 0 10px rgba(39, 174, 96, 0.5);
    }
    
    .item-name {
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 3px;
        font-size: 0.9rem;
    }
    
    .item-price {
        color: #e74c3c;
        font-size: 1rem;
        font-weight: bold;
    }
    
    .cart-section {
        margin-top: 25px;
        padding: 20px;
        background: rgba(248, 249, 250, 0.95);
        border-radius: 12px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .cart-header {
        font-size: 1.2rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 15px;
    }
    
    .cart-items {
        min-height: 40px;
        margin-bottom: 12px;
        max-height: 150px;
        overflow-y: auto;
    }
    
    .cart-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 6px 0;
        border-bottom: 1px solid #eee;
        font-size: 0.9rem;
    }
    
    .cart-item:last-child {
        border-bottom: none;
    }
    
    .remove-btn {
        background: #e74c3c;
        color: white;
        border: none;
        padding: 3px 8px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 11px;
        transition: background 0.3s ease;
    }
    
    .remove-btn:hover {
        background: #c0392b;
    }
    
    .total-section {
        font-size: 1.3rem;
        font-weight: bold;
        color: #27ae60;
        text-align: right;
        margin-bottom: 15px;
        padding: 8px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 8px;
    }
    
    .form-group {
        margin-bottom: 12px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 4px;
        font-weight: bold;
        color: #2c3e50;
        font-size: 0.9rem;
    }
    
    .form-group input,
    .form-group textarea {
        width: 100%;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(5px);
    }
    
    .form-group textarea {
        height: 60px;
        resize: vertical;
    }
    
    .submit-btn {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
        padding: 12px 25px;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: bold;
        cursor: pointer;
        width: 100%;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
    }
    
    .submit-btn:hover {
        background: linear-gradient(135deg, #219a52, #27ae60);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
    }
    
    .submit-btn:disabled {
        background: #95a5a6;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }
    
    .error-message {
        background: rgba(248, 215, 218, 0.95);
        color: #721c24;
        padding: 10px;
        border-radius: 6px;
        margin: 8px 0;
        border: 1px solid #f5c6cb;
        backdrop-filter: blur(5px);
        font-size: 0.9rem;
    }
    
    .success-message {
        background: rgba(212, 237, 218, 0.95);
        color: #155724;
        padding: 10px;
        border-radius: 6px;
        margin: 8px 0;
        border: 1px solid #c3e6cb;
        backdrop-filter: blur(5px);
        font-size: 0.9rem;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
        body {
            padding: 10px;
        }
        
        .container {
            padding: 15px;
        }
        
        h1 {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        
        .menu-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        
        .menu-item {
            padding: 8px;
            min-height: 50px;
        }
        
        .item-name {
            font-size: 0.8rem;
        }
        
        .item-price {
            font-size: 0.9rem;
        }
        
        .menu-section h2 {
            font-size: 1.1rem;
        }
    }
    
    @media (max-width: 480px) {
        .menu-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .menu-item {
            min-height: 45px;
            padding: 6px;
        }
        
        .item-name {
            font-size: 0.75rem;
        }
        
        .item-price {
            font-size: 0.85rem;
        }
    }
    
    /* Scrollbar styling cho cart items */
    .cart-items::-webkit-scrollbar {
        width: 6px;
    }
    
    .cart-items::-webkit-scrollbar-track {
        background: rgba(241, 241, 241, 0.5);
        border-radius: 3px;
    }
    
    .cart-items::-webkit-scrollbar-thumb {
        background: rgba(196, 196, 196, 0.8);
        border-radius: 3px;
    }
    
    .cart-items::-webkit-scrollbar-thumb:hover {
        background: rgba(170, 170, 170, 0.9);
    }
    
	    .menu-item {
	    display: flex;
	    flex-direction: column; /* S·∫Øp x·∫øp c√°c th√†nh ph·∫ßn theo chi·ªÅu d·ªçc */
	    align-items: center;   /* CƒÉn gi·ªØa theo chi·ªÅu ngang */
	    text-align: center;    /* CƒÉn gi·ªØa ch·ªØ */
	    /* C√°c thu·ªôc t√≠nh kh√°c c·ªßa menu-item */
	}

	.menu-item img {
	    max-width: 100%; /* ƒê·∫£m b·∫£o h√¨nh ·∫£nh kh√¥ng tr√†n ra kh·ªèi √¥ */
	    height: auto;    /* Gi·ªØ t·ªâ l·ªá khung h√¨nh */
	    margin-bottom: 10px; /* Kho·∫£ng c√°ch d∆∞·ªõi h√¨nh ·∫£nh */
	    border-radius: 8px; /* Bo tr√≤n g√≥c ·∫£nh (t√πy ch·ªçn) */
	}
</style>

</head>
<body>
    <div class="container">
        <h1>üçπ La C√† Beverage</h1>
        
        <!-- Menu CAFE -->
        <div class="menu-section">
            <h2>‚òï CAFE</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="addToCart('ƒêEN', 25)">
                    <div class="item-name">ƒêEN</div>
                    <div class="item-price">25K</div>
                </div>
                <div class="menu-item" onclick="addToCart('N√ÇU', 30)">
                    <div class="item-name">N√ÇU</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('B·∫†C X·ªàU', 30)">
                    <div class="item-name">B·∫†C X·ªàU</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('KEM MU·ªêI', 35)">
                    <div class="item-name">KEM MU·ªêI</div>
                    <div class="item-price">35K</div>
                </div>
            </div>
        </div>

        <!-- Menu N∆Ø·ªöC √âP -->
        <div class="menu-section">
            <h2>ü•§ N∆Ø·ªöC √âP</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="addToCart('CAM', 25)">
                    <div class="item-name">CAM</div>
                    <div class="item-price">25K</div>
                </div>
                <div class="menu-item" onclick="addToCart('CAM CARROT', 30)">
                    <div class="item-name">CAM CARROT</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('D∆ØA H·∫§U', 25)">
                    <div class="item-name">D∆ØA H·∫§U</div>
                    <div class="item-price">25K</div>
                </div>
                <div class="menu-item" onclick="addToCart('CAM D·ª®A', 30)">
                    <div class="item-name">CAM D·ª®A</div>
                    <div class="item-price">30K</div>
                </div>
            </div>
        </div>

        <!-- Menu TR√Ä -->
        <div class="menu-section">
            <h2>üçÉ TR√Ä</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="addToCart('NHI·ªÜT ƒê·ªöI', 30)">
                    <div class="item-name">NHI·ªÜT ƒê·ªöI</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('XO√ÄI CHANH LEO', 30)">
                    <div class="item-name">XO√ÄI CHANH LEO</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('QU√ùT', 25)">
                    <div class="item-name">QU√ùT</div>
                    <div class="item-price">25K</div>
                </div>
                <div class="menu-item" onclick="addToCart('MƒÇNG C·∫¶U', 30)">
                    <div class="item-name">MƒÇNG C·∫¶U</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('CHANH', 20)">
                    <div class="item-name">CHANH</div>
                    <div class="item-price">20K</div>
                </div>
                <div class="menu-item" onclick="addToCart('VI·ªÜT QU·∫§T', 35)">
                    <div class="item-name">VI·ªÜT QU·∫§T</div>
                    <div class="item-price">35K</div>
                </div>
                <div class="menu-item" onclick="addToCart('SEN V√ÄNG', 25)">
                    <div class="item-name">SEN V√ÄNG</div>
                    <div class="item-price">25K</div>
                </div>
                <div class="menu-item" onclick="addToCart('CAM D·ª®A', 30)">
                    <div class="item-name">CAM D·ª®A</div>
                    <div class="item-price">30K</div>
                </div>
            </div>
        </div>

        <!-- Menu TR√Ä S·ªÆA -->
        <div class="menu-section">
            <h2>üßã TR√Ä S·ªÆA</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="addToCart('KEM M·∫ÆN', 35)">
                    <div class="item-name">KEM M·∫ÆN</div>
                    <div class="item-price">35K</div>
                </div>
                <div class="menu-item" onclick="addToCart('S∆Ø∆†NG S√ÅO', 30)">
                    <div class="item-name">S∆Ø∆†NG S√ÅO</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('MATCHA', 35)">
                    <div class="item-name">MATCHA</div>
                    <div class="item-price">35K</div>
                </div>
            </div>
        </div>

        <!-- Menu S·ªÆA CHUA L·∫ÆC -->
        <div class="menu-section">
            <h2>ü•õ S·ªÆA CHUA L·∫ÆC</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="addToCart('XO√ÄI', 30)">
                    <div class="item-name">XO√ÄI</div>
                    <div class="item-price">30K</div>
                </div>
                <div class="menu-item" onclick="addToCart('BLUE SKY', 35)">
                    <div class="item-name">BLUE SKY</div>
                    <div class="item-price">35K</div>
                </div>
                <div class="menu-item" onclick="addToCart('VI·ªÜT QU·∫§T', 35)">
                    <div class="item-name">VI·ªÜT QU·∫§T</div>
                    <div class="item-price">35K</div>
                </div>
                <div class="menu-item" onclick="addToCart('D·ª®A L∆Ø·ªúI', 30)">
                    <div class="item-name">D·ª®A L∆Ø·ªúI</div>
                    <div class="item-price">30K</div>
                </div>
            </div>
        </div>

        <!-- Gi·ªè h√†ng -->
        <div class="cart-section">
            <div class="cart-header">üõí Gi·ªè h√†ng</div>
            <div class="cart-items" id="cartItems">
                <p style="color: #666; font-style: italic;">Ch∆∞a c√≥ m√≥n n√†o trong gi·ªè h√†ng</p>
            </div>
            <div class="total-section">
                T·ªïng c·ªông: <span id="totalAmount">0</span>K
            </div>

            <!-- Form th√¥ng tin -->
            <div class="form-group">
                <label for="customerName">T√™n kh√°ch h√†ng / S·ªë b√†n *</label>
                <input type="text" id="customerName" placeholder="V√≠ d·ª•: Nguy·ªÖn VƒÉn A ho·∫∑c B√†n 5" required>
            </div>

            <div class="form-group">
                <label for="notes">Ghi ch√∫ (t√πy ch·ªçn)</label>
                <textarea id="notes" placeholder="Ghi ch√∫ ƒë·∫∑c bi·ªát (√≠t ƒë∆∞·ªùng, nhi·ªÅu ƒë√°, v.v...)"></textarea>
            </div>

            <button class="submit-btn" onclick="submitOrder()" id="submitBtn">
                G·ª≠i ƒë∆°n h√†ng
            </button>

            <div id="message"></div>
        </div>
    </div>

    <script>
        // URL Google Apps Script Web App
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwqpd2Pt2DFrEmiCxPvosEF_QC-SbBrPc1HbB_JW-bOsm_AA9zmh7hETwX9x4pZRWHtlQ/exec';

        // Bi·∫øn gi·ªè h√†ng
        let cart = [];
        let totalAmount = 0;

        // Function th√™m m√≥n v√†o gi·ªè h√†ng
        function addToCart(itemName, itemPrice) {
            cart.push({
                name: itemName,
                price: itemPrice
            });
            totalAmount += itemPrice;
            updateCartDisplay();
            
            // Hi·ªáu ·ª©ng visual
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                if (item.querySelector('.item-name').textContent === itemName) {
                    item.classList.add('selected');
                    setTimeout(() => {
                        item.classList.remove('selected');
                    }, 300);
                }
            });
            
            console.log(`ƒê√£ th√™m ${itemName} - ${itemPrice}K v√†o gi·ªè h√†ng`);
        }

        // Function c·∫≠p nh·∫≠t hi·ªÉn th·ªã gi·ªè h√†ng
        function updateCartDisplay() {
            const cartItemsElement = document.getElementById('cartItems');
            const totalElement = document.getElementById('totalAmount');
            
            if (cart.length === 0) {
                cartItemsElement.innerHTML = '<p style="color: #666; font-style: italic;">Ch∆∞a c√≥ m√≥n n√†o trong gi·ªè h√†ng</p>';
            } else {
                // Group items theo t√™n
                const groupedItems = {};
                cart.forEach(item => {
                    if (groupedItems[item.name]) {
                        groupedItems[item.name].quantity++;
                        groupedItems[item.name].totalPrice += item.price;
                    } else {
                        groupedItems[item.name] = {
                            name: item.name,
                            quantity: 1,
                            unitPrice: item.price,
                            totalPrice: item.price
                        };
                    }
                });
                
                cartItemsElement.innerHTML = Object.values(groupedItems).map(item => 
                    `<div class="cart-item">
                        <span>${item.name} x${item.quantity} - ${item.totalPrice}K</span>
                        <button class="remove-btn" onclick="removeFromCart('${item.name}')">X√≥a</button>
                    </div>`
                ).join('');
            }
            
            totalElement.textContent = totalAmount;
        }

        // Function x√≥a m√≥n kh·ªèi gi·ªè h√†ng
        function removeFromCart(itemName) {
            const index = cart.findIndex(item => item.name === itemName);
            if (index !== -1) {
                totalAmount -= cart[index].price;
                cart.splice(index, 1);
                updateCartDisplay();
                showMessage(`ƒê√£ x√≥a ${itemName} kh·ªèi gi·ªè h√†ng`, 'success');
            }
        }

        // Function hi·ªÉn th·ªã th√¥ng b√°o
        function showMessage(message, type = 'error') {
            const messageElement = document.getElementById('message');
            messageElement.innerHTML = `<div class="${type}-message">${message}</div>`;
            
            setTimeout(() => {
                messageElement.innerHTML = '';
            }, 5000);
        }

        // Function g·ª≠i ƒë∆°n h√†ng
        function submitOrder() {
    const customerName = document.getElementById('customerName').value;
    const notes = document.getElementById('notes').value;
    const submitBtn = document.getElementById('submitBtn');
    
    // Validation
    if (!customerName.trim()) {
        showMessage('Vui l√≤ng nh·∫≠p t√™n kh√°ch h√†ng!', 'error');
        return;
    }
    
    if (cart.length === 0) {
        showMessage('Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt m√≥n!', 'error');
        return;
    }

    // Hi·ªÉn th·ªã loading
    submitBtn.textContent = 'ƒêang g·ª≠i...';
    submitBtn.disabled = true;
    
    console.log("Preparing to submit order...");
    console.log("Cart items:", cart);
    console.log("Customer name:", customerName);
    console.log("Total:", totalAmount);

    // T·∫°o form th·∫≠t s·ª± submit (s·∫Ω redirect sang trang k·∫øt qu·∫£)
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = SCRIPT_URL;
    form.target = '_blank'; // M·ªü tab m·ªõi ƒë·ªÉ xem k·∫øt qu·∫£
    
    // Th√™m d·ªØ li·ªáu v√†o form
    const data = {
        customerName: customerName.trim(),
        notes: notes.trim(),
        items: JSON.stringify(cart),
        total: totalAmount,
        orderTime: new Date().toLocaleString('vi-VN')
    };
    
    console.log("Form data:", data);
    
    Object.keys(data).forEach(key => {
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = key;
        input.value = data[key];
        form.appendChild(input);
    });
    
    document.body.appendChild(form);
    form.submit();
    
    // Th√¥ng b√°o v√† reset
    showMessage('üéâ ƒê√£ g·ª≠i ƒë∆°n h√†ng! Ki·ªÉm tra tab m·ªõi ƒë·ªÉ xem k·∫øt qu·∫£.', 'success');
    
    // Reset form sau 2 gi√¢y
    setTimeout(() => {
        cart = [];
        totalAmount = 0;
        updateCartDisplay();
        document.getElementById('customerName').value = '';
        document.getElementById('notes').value = '';
        
        submitBtn.textContent = 'G·ª≠i ƒë∆°n h√†ng';
        submitBtn.disabled = false;
        
        document.body.removeChild(form);
    }, 2000);
}

        // Initialize khi trang load
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
            console.log('üçπ La C√† Beverage System loaded successfully!');
            console.log('Script URL:', SCRIPT_URL);
        });
    </script>
</body>
</html>
